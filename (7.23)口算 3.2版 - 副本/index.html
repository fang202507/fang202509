<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=360, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>口算练习</title>
  <link rel="stylesheet" href="main.css">
</head>
<body>
  <div id="mainBorderWrap" tabindex="-1">
    <!-- 登录界面 -->
    <div id="loginView" class="card show">
      <div class="title">口算练习</div>
      <div id="resumeBox" style="display:none;margin-bottom:1.2em;text-align:center;">
        <div style="color:#2563eb;font-size:1.1em;margin-bottom:0.5em;">检测到上次进度，是否继续？</div>
        <button id="resumeBtn" class="btn" style="margin-bottom:0.5em;">继续上次进度</button>
        <button id="resetBtn" class="btn" style="background:#fca5a5;">重新登录</button>
      </div>
      <input id="usernameInput" class="input" type="text" maxlength="8" placeholder="请输入用户名" autocomplete="off" style="text-align:center;">
      <button id="loginBtn" class="btn">进入游戏</button>
    </div>

    <!-- 游戏界面 -->
    <div id="gameView" class="game-wrap fade" style="display:none;">
      <div class="game-container">
        <div class="game-main">
          <!-- 闯关记录榜面板 -->
          <div id="recordBoardPanel" class="record-board-panel" style="display:none;position:absolute;left:-300px;top:0;width:300px;height:80%;background:#fff;border:1px solid #e5e7eb;border-radius:8px;padding:10px;z-index:10;overflow-y:auto;">
            <div class="record-board-title" style="font-weight:bold;font-size:1.2rem;margin-bottom:10px;border-bottom:2px solid #e5e7eb;padding-bottom:5px;">闯关记录榜</div>
            <table class="record-board-table" style="width:100%;border-collapse:collapse;">
              <thead>
                <tr style="background:#f3f4f6;">
                  <th style="border:1px solid #e5e7eb;padding:8px;text-align:center;">关卡名称</th>
                  <th style="border:1px solid #e5e7eb;padding:8px;text-align:center;">闯关用时</th>
                  <th style="border:1px solid #e5e7eb;padding:8px;text-align:center;">闯关成功时间</th>
                </tr>
              </thead>
              <tbody id="recordBoardBody">
                <!-- 记录将通过JS动态生成 -->
              </tbody>
            </table>
          </div>
          <!-- 答题记录面板 -->
          <div class="record-panel">
            <div class="record-title">答题记录</div>
            <div class="record-content">
              <div id="correctCount">正确: 0</div>
              <div id="successfulLevels">0</div>
<div id="statsPanel" class="stats-panel"></div>
              <div id="levelRecords">
                <div id="historyRecords"></div>
              </div>
            </div>
          </div>
          <div class="status-bar">
            <button id="levelSelectBtn" class="level-select-btn">选关</button>
            <span class="user" id="userDisplay"></span>
            <span id="totalLevels" style="display:none;">0</span>
            <span class="coin"><img class="coin-icon" src="coins.png" alt="coin"> <span id="coinDisplay">0</span></span>
            <button id="recordBoardBtn" class="record-board-btn" style="margin-right:10px;margin-top:-184px;margin-left:160px;background-color:#4CAF50;color:white;font-weight:bold;border:none;border-radius:8px;padding:8px 16px; white-space: nowrap;; text-align:center;box-shadow:0 4px 8px rgba(0,0,0,0.2);text-shadow:0 1px 1px rgba(0,0,0,0.3);transition:all 0.3s ease;">排行榜</button><span class="timer" id="timerDisplay" style="margin-left:-70px;color:#ef4444;font-weight:bold;font-size:1.1rem;white-space:nowrap;"></span>
          </div>
          <div class="progress-area">
            <div class="level-label" id="levelLabel">第一关</div>
            <div class="progress" id="progressLabel">1/10</div>
          </div>
          <div class="question-area">
            <div class="question" id="questionText">1+2=</div>
            <div class="answer-input-area">
              <input id="answerInput" class="answer-input" type="text" value="">
            </div>
            <div class="feedback" id="feedback"></div>
          </div>
          <div class="keyboard" id="keyboard"></div>
        </div>

        
      </div>
    </div>
  </div>

  <!-- 弹窗 -->
  <div id="popup" class="popup" style="display: none; position: fixed; top: 0; left: -250px; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000; align-items: center; justify-content: center;">
    <div class="popup-content" style="background: #fff; padding: 20px; border-radius: 10px; width: 90%; max-width: 360px; text-align: center;">
      <h2 id="popupTitle" class="popup-title" style="margin: 0 0 15px 0;"></h2>
      <div id="popupContent" class="popup-message" style="margin-bottom: 20px; line-height: 1.6; color: #334155;"></div>
      <button id="popupBtn" class="key-btn submit" style="width: 120px;"></button>
    </div>
  </div>
  
  <div id="levelSelectPopup" class="popup" style="display: none;">
    <div class="popup-content level-select-content">
      <div class="level-select-container">
        <div class="level-select-scroll">
          <div class="level-select-list" id="levelSelectList"></div>
        </div>
      </div>
    </div>
  </div>

  <script src="main.js"></script>
</body>
</html>
